<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Magical Hug Day</title>
<style>
body{
    margin:0;
    overflow:hidden;
    font-family:'Segoe UI',sans-serif;
    background: radial-gradient(circle at bottom,#0f2027,#203a43,#2c5364);
    color:white;
    text-align:center;
    height:100vh;
    position:relative;
}

/* ðŸŒŸ Stars */
.star{
    position:absolute;
    width:2px;
    height:2px;
    background:white;
    animation:twinkle 2s infinite alternate;
    z-index:0;
}
@keyframes twinkle{
    from{opacity:0.2;}
    to{opacity:1;}
}

/* ðŸ’— Floating Hearts in background */
.bg-heart{
    position:absolute;
    width:12px;
    height:12px;
    background:red;
    clip-path: polygon(50% 0%, 61% 8%, 68% 21%, 68% 35%, 50% 60%, 32% 35%, 32% 21%, 39% 8%);
    animation:floatUp linear forwards;
    opacity:0.7;
    pointer-events:none;
    z-index:0;
}
@keyframes floatUp{
    0% {transform: translateY(0) scale(1);}
    100% {transform: translateY(-350px) scale(0.5); opacity:0;}
}

/* Main container */
.container{
    padding-top:60px;
    position:relative;
    z-index:2;
}

/* Title */
h1{
    font-size:50px;
    text-shadow:0 0 20px pink;
}

/* ðŸŽ¥ Video styling (square) */
.video-box{
    margin:20px auto;
    display:none;
    opacity:0;
    transition: opacity 1.5s ease;
    position:relative;
    z-index:1;
    width:300px;
    height:300px;      /* square */
    border-radius:20px;
    overflow:hidden;   /* crop overflowing parts */
    box-shadow: 0 0 30px pink;
}
.video-box.show{
    opacity:1;
}
.video-box video{
    width:100%;
    height:100%;
    object-fit:cover;   /* fill square nicely */
}

/* ðŸ’Œ Letter box */
.letter-box{
    width:80%;
    max-width:600px;
    margin:40px auto;
    padding:20px;
    background:rgba(255,255,255,0.1);
    border-radius:15px;
    backdrop-filter:blur(10px);
    font-size:20px;
    min-height:120px;
    box-shadow:0 0 20px rgba(255,255,255,0.2);
    white-space:pre-line;
    z-index:2;
    position:relative;
}

/* ðŸ’– Button */
button{
    padding:12px 25px;
    font-size:18px;
    border:none;
    border-radius:30px;
    background:#ff4d6d;
    color:white;
    cursor:pointer;
    margin-top:20px;
    transition:0.3s;
    z-index:2;
    position:relative;
}
button:hover{
    transform:scale(1.1);
}

/* ðŸŽ† Fireworks */
.firework{
    position:absolute;
    width:6px;
    height:6px;
    border-radius:50%;
    pointer-events:none;
    animation:explode 800ms forwards;
    z-index:3;
}
@keyframes explode{
    0% {transform: translate(0,0) scale(1); opacity:1;}
    100% {transform: translate(var(--x), var(--y)) scale(0); opacity:0;}
}

/* ðŸ’— Floating hearts on click */
.heart{
    position:absolute;
    width:15px;
    height:15px;
    background:red;
    clip-path: polygon(50% 0%, 61% 8%, 68% 21%, 68% 35%, 50% 60%, 32% 35%, 32% 21%, 39% 8%);
    animation:floatUpClick linear forwards;
    opacity:0.8;
    pointer-events:none;
    z-index:3;
}
@keyframes floatUpClick{
    0% {transform: translateY(0) scale(1);}
    100% {transform: translateY(-300px) scale(0.5); opacity:0;}
}
</style>
</head>
<body>

<!-- ðŸŽµ Background Music -->
<audio id="bgMusic" loop preload="auto">
    <source src="music.mp3" type="audio/mpeg">
</audio>

<div class="container">
    <h1>ðŸ¤— Happy Hug Day ðŸ¤—</h1>

    <!-- ðŸŽ¥ Video -->
    <div class="video-box" id="videoBox">
        <video id="hugVideo" muted loop>
            <source src="hug.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>

    <!-- ðŸ’– Button -->
    <button id="startBtn" onclick="startMagic(event)">Open My Heart ðŸ’Œ</button>

    <!-- ðŸ’Œ Letter -->
    <div class="letter-box" id="letter"></div>
</div>

<script>
/* ðŸŒŸ Generate background stars */
for(let i=0;i<120;i++){
    let star=document.createElement("div");
    star.className="star";
    star.style.top=Math.random()*100+"vh";
    star.style.left=Math.random()*100+"vw";
    star.style.animationDuration=(Math.random()*2+1)+"s";
    document.body.appendChild(star);
}

/* ðŸ’— Generate background hearts continuously */
function spawnBackgroundHearts(){
    setInterval(()=>{
        let heart = document.createElement("div");
        heart.className = "bg-heart";
        heart.style.left = Math.random()*95 + "vw";
        heart.style.bottom = "-20px";
        heart.style.animationDuration = (4 + Math.random()*4) + "s";
        document.body.appendChild(heart);
        setTimeout(()=> heart.remove(), 8000);
    }, 500);
}
spawnBackgroundHearts();

/* ðŸ’Œ Letter Message */
const message = `
My Love ðŸ’–,

On this beautiful Hug Day,
I just want you to feel how special you are to me.
If I could, I would pause time,
wrap you in the warmest hug,
and never let go. ðŸ¤—âœ¨
I miss you more than words can sayâ€¦
and this little page carries my hug to you.
Forever Yours â¤ï¸ I Love You Bubu â¤ï¸
`;

let i = 0;
let magicStarted = false;

/* ðŸ’– Start Everything */
function startMagic(e){
    if(magicStarted) return; 
    magicStarted = true;

    // ðŸŒŸ Play music
    const music = document.getElementById("bgMusic");
    music.play().catch(err => {
        console.log("Music blocked:", err);
        alert("Click the button again to allow music!");
    });

    startLetter();

    // ðŸŽ¥ Show video
    const videoBox = document.getElementById("videoBox");
    videoBox.style.display = "block";
    setTimeout(()=> videoBox.classList.add("show"), 50);

    const video = document.getElementById("hugVideo");
    video.muted = true;
    video.loop = true;
    video.play().catch(err => console.log("Video play blocked:", err));

    // ðŸŽ† Fireworks at click position
    triggerFireworks(e.clientX, e.clientY);
    
    // ðŸ’— Floating hearts on click
    startClickHearts();
}

/* ðŸ’Œ Typing Effect */
function startLetter(){
    const letterBox = document.getElementById("letter");
    letterBox.innerHTML = "";
    i = 0;
    typeWriter();
}

function typeWriter(){
    if(i < message.length){
        document.getElementById("letter").innerHTML += message.charAt(i);
        i++;
        setTimeout(typeWriter, 40);
    }
}

/* ðŸŽ† Fireworks Function */
function triggerFireworks(x, y){
    const colors = ["#ff4d6d","#ffd700","#ff69b4","#00ffff","#ffffff"];
    for(let i=0; i<50; i++){  // more particles
        let particle = document.createElement("div");
        particle.className = "firework";
        particle.style.left = x + "px";
        particle.style.top = y + "px";
        let dx = (Math.random()-0.5) * 350 + "px";
        let dy = (Math.random()-0.5) * 350 + "px";
        particle.style.setProperty('--x', dx);
        particle.style.setProperty('--y', dy);
        particle.style.background = colors[Math.floor(Math.random()*colors.length)];
        document.body.appendChild(particle);
        setTimeout(()=> particle.remove(), 800);
    }
}

/* ðŸ’— Floating hearts on click */
function startClickHearts(){
    setInterval(()=>{
        let heart = document.createElement("div");
        heart.className = "heart";
        heart.style.left = (20 + Math.random()*60) + "vw";
        heart.style.bottom = "-20px";
        heart.style.animationDuration = (3 + Math.random()*2) + "s";
        document.body.appendChild(heart);
        setTimeout(()=> heart.remove(), 6000);
    }, 400);
}
</script>

</body>
</html>
